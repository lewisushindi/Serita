<!DOCTYPE html>
<html>
<head>
	<title>Login Page</title>
	<!-- include Firebase SDK and other dependencies -->
	<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-auth.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
</head>
<body>
	<h1>Login Page</h1>
	<form id="loginForm">
		<label for="email">Email</label>
		<input type="email" name="email" required>
		<label for="password">Password</label>
		<input type="password" name="password" required>
		<button type="submit">Login</button>
	</form>

	<!-- initialize Firebase -->
	<script>
		// Your web app's Firebase configuration
		const firebaseConfig = {
			apiKey: "AIzaSyATbNjJXMWC-F-LPD8H6IukvN2KVmD3gIs",
        authDomain: "seritahealth.firebaseapp.com",
        projectId: "seritahealth",
        storageBucket: "seritahealth.appspot.com",
        messagingSenderId: "597467249811",
        appId: "1:597467249811:web:e6ddf3d183ce0683352166",
        measurementId: "G-G2GKC4MZ14"
		};

		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		const auth = firebase.auth();

		// set up event listener on the login form
		$(document).ready(function() {
			$("#loginForm").submit(function(event) {
				event.preventDefault();
				var email = $("input[name='email']").val();
				var password = $("input[name='password']").val();
				auth.signInWithEmailAndPassword(email, password)
				.then((userCredential) => {
					// redirect to dashboard on successful login
					window.location.href = "dashboard.html";
				})
				.catch((error) => {
					// handle login error
					Swal.fire({
						icon: 'error',
						title: 'Login failed',
						text: error.message
					})
				});
			});
		});
	</script>
</body>
</html>
